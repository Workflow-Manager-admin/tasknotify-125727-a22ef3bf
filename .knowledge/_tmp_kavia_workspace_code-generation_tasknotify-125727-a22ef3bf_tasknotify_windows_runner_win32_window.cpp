{"is_source_file": true, "format": "C++", "description": "Implementation of a Win32Window class for managing window creation and handling events in a Flutter Windows application.", "external_files": ["win32_window.h", "<dwmapi.h>", "<flutter_windows.h>", "resource.h"], "external_methods": ["LoadLibraryA", "GetProcAddress", "RegisterClass", "CreateWindow", "ShowWindow", "DestroyWindow", "DefWindowProc", "GetClientRect", "SetWindowPos", "PostQuitMessage", "DwmSetWindowAttribute", "RegGetValue"], "published": ["Win32Window", "WindowClassRegistrar"], "classes": [{"name": "WindowClassRegistrar", "description": "Manages the registration of the window class used by Win32Window instances."}, {"name": "Win32Window", "description": "Represents a window in a Flutter Windows application, handling its creation, destruction, and message processing."}], "methods": [{"name": "bool Create(const std::wstring & title,const Point & origin,const Size & size)", "description": "Creates the window with the specified title, origin, and size.", "parameters": ["std::wstring title", "Point origin", "Size size"], "returns": "bool", "scope": "Win32Window", "scopeKind": "class"}, {"name": "bool Show()", "description": "Displays the window.", "returns": "bool", "scope": "Win32Window", "scopeKind": "class"}, {"name": "LRESULT CALLBACK WndProc(HWND const window,UINT const message,WPARAM const wparam,LPARAM const lparam)", "description": "Processes window messages for the Win32Window instance.", "parameters": ["HWND window", "UINT message", "WPARAM wparam", "LPARAM lparam"], "returns": "LRESULT", "scope": "Win32Window", "scopeKind": "class"}, {"name": "void Destroy()", "description": "Cleans up the resources associated with the window.", "returns": "void", "scope": "Win32Window", "scopeKind": "class"}, {"name": "void SetChildContent(HWND content)", "description": "Assigns a child window to the Win32Window and positions it appropriately.", "parameters": ["HWND content"], "returns": "void", "scope": "Win32Window", "scopeKind": "class"}, {"name": "RECT GetClientArea()", "description": "Retrieves the dimensions of the client area of the window.", "returns": "RECT", "scope": "Win32Window", "scopeKind": "class"}, {"name": "HWND GetHandle()", "description": "Returns the handle of the Win32 window.", "returns": "HWND", "scope": "Win32Window", "scopeKind": "class"}, {"name": "void SetQuitOnClose(bool quit_on_close)", "description": "Sets whether the application should quit when the window is closed.", "parameters": ["bool quit_on_close"], "returns": "void", "scope": "Win32Window", "scopeKind": "class"}, {"name": "bool OnCreate()", "description": "Overrideable method for subclass initialization during window creation.", "returns": "bool", "scope": "Win32Window", "scopeKind": "class"}, {"name": "void OnDestroy()", "description": "Overrideable method for subclass cleanup during window destruction.", "returns": "void", "scope": "Win32Window", "scopeKind": "class"}, {"name": "void UpdateTheme(HWND const window)", "description": "Updates the window's theme based on the user's dark mode preference.", "parameters": ["HWND window"], "returns": "void", "scope": "Win32Window", "scopeKind": "class"}, {"name": "void EnableFullDpiSupportIfAvailable(HWND hwnd)", "scope": "__anonc2dd21410111", "scopeKind": "namespace", "description": "unavailable"}, {"name": "WindowClassRegistrar * GetInstance()", "scope": "WindowClassRegistrar", "scopeKind": "class", "description": "unavailable"}, {"name": "Win32Window * GetThisFromHandle(HWND const window)", "scope": "Win32Window", "scopeKind": "class", "description": "unavailable"}, {"name": "const wchar_t * GetWindowClass()", "scope": "WindowClassRegistrar", "scopeKind": "class", "description": "unavailable"}, {"name": "LRESULT MessageHandler(HWND hwnd,UINT const message,WPARAM const wparam,LPARAM const lparam)", "scope": "Win32Window", "scopeKind": "class", "description": "unavailable"}, {"name": "int Scale(int source,double scale_factor)", "scope": "__anonc2dd21410111", "scopeKind": "namespace", "description": "unavailable"}, {"name": "void UnregisterWindowClass()", "scope": "WindowClassRegistrar", "scopeKind": "class", "description": "unavailable"}, {"name": "Win32Window()", "scope": "Win32Window", "scopeKind": "class", "description": "unavailable"}, {"name": "~Win32Window()", "scope": "Win32Window", "scopeKind": "class", "description": "unavailable"}], "calls": ["LoadLibraryA", "GetProcAddress", "RegisterClass", "CreateWindow", "ShowWindow", "DefWindowProc", "GetClientRect", "SetWindowPos", "PostQuitMessage", "DwmSetWindowAttribute", "RegGetValue"], "search-terms": ["Win32Window", "WindowClassRegistrar", "CreateWindow", "DPI scaling", "Dark mode support"], "state": 2, "file_id": 46, "knowledge_revision": 98, "git_revision": "740f294abfdce4d8511c2bd36ac3bab35bb89188", "ctags": [{"_type": "tag", "name": "Create", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^bool Win32Window::Create(const std::wstring& title,$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const std::wstring & title,const Point & origin,const Size & size)", "scope": "Win32Window", "scopeKind": "class"}, {"_type": "tag", "name": "DWMWA_USE_IMMERSIVE_DARK_MODE", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^#define DWMWA_USE_IMMERSIVE_DARK_MODE /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "Destroy", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^void Win32Window::Destroy() {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "Win32Window", "scopeKind": "class"}, {"_type": "tag", "name": "EnableFullDpiSupportIfAvailable", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^void EnableFullDpiSupportIfAvailable(HWND hwnd) {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(HWND hwnd)", "scope": "__anonc2dd21410111", "scopeKind": "namespace"}, {"_type": "tag", "name": "EnableNonClientDpiScaling", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^using EnableNonClientDpiScaling = BOOL __stdcall(HWND hwnd);$/", "file": true, "language": "C++", "kind": "typedef", "scope": "__anonc2dd21410111", "scopeKind": "namespace"}, {"_type": "tag", "name": "GetClientArea", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^RECT Win32Window::GetClientArea() {$/", "language": "C++", "typeref": "typename:RECT", "kind": "function", "signature": "()", "scope": "Win32Window", "scopeKind": "class"}, {"_type": "tag", "name": "GetHandle", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^HWND Win32Window::GetHandle() {$/", "language": "C++", "typeref": "typename:HWND", "kind": "function", "signature": "()", "scope": "Win32Window", "scopeKind": "class"}, {"_type": "tag", "name": "GetInstance", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^  static WindowClassRegistrar* GetInstance() {$/", "file": true, "language": "C++", "typeref": "typename:WindowClassRegistrar *", "kind": "function", "signature": "()", "scope": "WindowClassRegistrar", "scopeKind": "class"}, {"_type": "tag", "name": "GetThisFromHandle", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^Win32Window* Win32Window::GetThisFromHandle(HWND const window) noexcept {$/", "language": "C++", "typeref": "typename:Win32Window *", "kind": "function", "signature": "(HWND const window)", "scope": "Win32Window", "scopeKind": "class"}, {"_type": "tag", "name": "GetWindowClass", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^const wchar_t* WindowClassRegistrar::GetWindowClass() {$/", "language": "C++", "typeref": "typename:const wchar_t *", "kind": "function", "signature": "()", "scope": "WindowClassRegistrar", "scopeKind": "class"}, {"_type": "tag", "name": "MessageHandler", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^Win32Window::MessageHandler(HWND hwnd,$/", "language": "C++", "typeref": "typename:LRESULT", "kind": "function", "signature": "(HWND hwnd,UINT const message,WPARAM const wparam,LPARAM const lparam)", "scope": "Win32Window", "scopeKind": "class"}, {"_type": "tag", "name": "OnCreate", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^bool Win32Window::OnCreate() {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "()", "scope": "Win32Window", "scopeKind": "class"}, {"_type": "tag", "name": "OnDestroy", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^void Win32Window::OnDestroy() {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "Win32Window", "scopeKind": "class"}, {"_type": "tag", "name": "Scale", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^int Scale(int source, double scale_factor) {$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "(int source,double scale_factor)", "scope": "__anonc2dd21410111", "scopeKind": "namespace"}, {"_type": "tag", "name": "SetChildContent", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^void Win32Window::SetChildContent(HWND content) {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(HWND content)", "scope": "Win32Window", "scopeKind": "class"}, {"_type": "tag", "name": "SetQuitOnClose", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^void Win32Window::SetQuitOnClose(bool quit_on_close) {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(bool quit_on_close)", "scope": "Win32Window", "scopeKind": "class"}, {"_type": "tag", "name": "Show", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^bool Win32Window::Show() {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "()", "scope": "Win32Window", "scopeKind": "class"}, {"_type": "tag", "name": "UnregisterWindowClass", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^void WindowClassRegistrar::UnregisterWindowClass() {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WindowClassRegistrar", "scopeKind": "class"}, {"_type": "tag", "name": "UpdateTheme", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^void Win32Window::UpdateTheme(HWND const window) {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(HWND const window)", "scope": "Win32Window", "scopeKind": "class"}, {"_type": "tag", "name": "Win32Window", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^Win32Window::Win32Window() {$/", "language": "C++", "kind": "function", "signature": "()", "scope": "Win32Window", "scopeKind": "class"}, {"_type": "tag", "name": "WindowClassRegistrar", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^class WindowClassRegistrar {$/", "file": true, "language": "C++", "kind": "class"}, {"_type": "tag", "name": "WndProc", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^LRESULT CALLBACK Win32Window::WndProc(HWND const window,$/", "language": "C++", "typeref": "typename:LRESULT CALLBACK", "kind": "function", "signature": "(HWND const window,UINT const message,WPARAM const wparam,LPARAM const lparam)", "scope": "Win32Window", "scopeKind": "class"}, {"_type": "tag", "name": "__anonc2dd21410111", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^namespace {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "class_registered_", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^  bool class_registered_ = false;$/", "file": true, "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "WindowClassRegistrar", "scopeKind": "class"}, {"_type": "tag", "name": "g_active_window_count", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^static int g_active_window_count = 0;$/", "file": true, "language": "C++", "typeref": "typename:int", "kind": "variable", "scope": "__anonc2dd21410111", "scopeKind": "namespace"}, {"_type": "tag", "name": "instance_", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^  static WindowClassRegistrar* instance_;$/", "file": true, "language": "C++", "typeref": "typename:WindowClassRegistrar *", "kind": "member", "scope": "WindowClassRegistrar", "scopeKind": "class"}, {"_type": "tag", "name": "instance_", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^WindowClassRegistrar* WindowClassRegistrar::instance_ = nullptr;$/", "language": "C++", "typeref": "typename:WindowClassRegistrar *", "kind": "member", "scope": "WindowClassRegistrar", "scopeKind": "class"}, {"_type": "tag", "name": "kGetPreferredBrightnessRegKey", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^constexpr const wchar_t kGetPreferredBrightnessRegKey[] =$/", "language": "C++", "typeref": "typename:const wchar_t[]", "kind": "variable", "scope": "__anonc2dd21410111", "scopeKind": "namespace"}, {"_type": "tag", "name": "kGetPreferredBrightnessRegValue", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^constexpr const wchar_t kGetPreferredBrightnessRegValue[] = L\"AppsUseLightTheme\";$/", "language": "C++", "typeref": "typename:const wchar_t[]", "kind": "variable", "scope": "__anonc2dd21410111", "scopeKind": "namespace"}, {"_type": "tag", "name": "kWindowClassName", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^constexpr const wchar_t kWindowClassName[] = L\"FLUTTER_RUNNER_WIN32_WINDOW\";$/", "language": "C++", "typeref": "typename:const wchar_t[]", "kind": "variable", "scope": "__anonc2dd21410111", "scopeKind": "namespace"}, {"_type": "tag", "name": "~Win32Window", "path": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "pattern": "/^Win32Window::~Win32Window() {$/", "language": "C++", "kind": "function", "signature": "()", "scope": "Win32Window", "scopeKind": "class"}], "filename": "/tmp/kavia/workspace/code-generation/tasknotify-125727-a22ef3bf/tasknotify/windows/runner/win32_window.cpp", "hash": "928e86a2be27eca688669dce6c9177d9", "format-version": 4, "code-base-name": "default", "fields": [{"name": "bool class_registered_", "scope": "WindowClassRegistrar", "scopeKind": "class", "description": "unavailable"}, {"name": "int g_active_window_count", "scope": "__anonc2dd21410111", "scopeKind": "namespace", "description": "unavailable"}, {"name": "WindowClassRegistrar * instance_", "scope": "WindowClassRegistrar", "scopeKind": "class", "description": "unavailable"}, {"name": "const wchar_t[] kGetPreferredBrightnessRegKey", "scope": "__anonc2dd21410111", "scopeKind": "namespace", "description": "unavailable"}, {"name": "const wchar_t[] kGetPreferredBrightnessRegValue", "scope": "__anonc2dd21410111", "scopeKind": "namespace", "description": "unavailable"}, {"name": "const wchar_t[] kWindowClassName", "scope": "__anonc2dd21410111", "scopeKind": "namespace", "description": "unavailable"}], "revision_history": [{"98": "740f294abfdce4d8511c2bd36ac3bab35bb89188"}]}